{% extends 'base.html'%} {% block content %}

<div class="container">

  <div class="row">
    <h1>Edit Recipe</h1>
    <form action="{{ url_for('update_recipe', recipe_id=recipe._id) }}" method="POST" class="col s12">
      <div class="row">
        <div class="input-field col s12">
          <h5>Title</h5>
          <input id="recipe_name" name="recipe_name" type="text" class="validate" value="{{recipe.recipe_name}}">

        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <h5>Description</h5>
          <textarea name="recipe_description" id="recipe_description" class="materialize-textarea">{{recipe.recipe_description}}</textarea>

        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <h5>Ingredients</h5>
          <textarea id="recipe_ingredients" name="recipe_ingredients" class="materialize-textarea">{{recipe.recipe_ingredients}}"</textarea>

        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <h5>Method</h5>
          <textarea id="recipe_method" name="recipe_method" class="materialize-textarea">{{recipe.recipe_method}}</textarea>

        </div>
      </div>
      <div class="row">
        <div class="input-field col s12 m6">
          <h5>Course</h5>
            <select id="course" name="recipe_course">
                  <option disabled selected>{{recipe.recipe_course}}</option>
                  {% for course in courses %}
                      <option value="{{course.course_name}}">{{course.course_name}}</option>
                  {% endfor %}
                </select>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12 m6">
          <h5>Chef</h5>
            <select id="chef" name="recipe_chef">
                  <option disabled selected>{{recipe.recipe_chef}}</option>
                  {% for chef in chefs %}
                      <option value="{{chef.chef_name}}">{{chef.chef_name}}</option>
                  {% endfor %}
                </select>
        </div>
      </div>
      
      <div class="row">
        <div class="input-field col s12">
          <h5>Image URL</h5>
          <input id="recipe_image_url" name="recipe_image_url" type="text" class="validate" value="{{recipe.recipe_image_url}}">
        </div>
      </div>
      
      <div class="row">
            <div class="switch">
                <label>
                    {% if recipe.recipe_is_vegetarian %}
                          <input id="is_vegetarian" name="is_vegetarian" type="checkbox" checked>
                    {% else %}
                         <input id="is_vegetarian" name="is_vegetarian" type="checkbox">
                    {% endif%}
                  <span class="lever"></span>
                  Is Vegetarian
                </label>
            </div>
        </div>
        <div class="row">
            <div class="switch">
                <label>
                    {% if recipe.recipe_is_vegan %}
                          <input id="is_vegan" name="is_vegan" type="checkbox" checked>
                    {% else %}
                         <input id="is_vegan" name="is_vegan" type="checkbox">
                    {% endif%}
                  <span class="lever"></span>
                  Is Vegan
                </label>
            </div>
        </div>
        
        <div class="row">
            <div class="switch">
                <label>
                    {% if recipe.recipe_is_glutenfree %}
                          <input id="is_glutenfree" name="is_glutenfree" type="checkbox" checked>
                    {% else %}
                         <input id="is_glutenfree" name="is_glutenfree" type="checkbox">
                    {% endif%}
                  <span class="lever"></span>
                  Is Gluten Free
                </label>
            </div>
        </div>

      <div class="col s12">
        <button class="btn-small waves-effect waves-light right orange" type="submit" name="action">Update Recipe
            <i class="material-icons right">send</i>
        </button>
        <form action="{{url_for('delete_recipe', recipe_id=recipe._id)}}" method="POST"><button type="submit" class="waves-effect waves-light btn btn_small red">Delete</button>
        <button class="btn-small waves-effect waves-light right blue" type="reset">Reset
            <i class="material-icons right" >reset</i>
        </button>
      </div>
  </div>
  </form>
</div>
{% endblock %}
